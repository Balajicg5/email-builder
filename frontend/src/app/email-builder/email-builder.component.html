<div class="editor-container">
  <!-- Top Toolbar -->
  <header class="editor-top-bar">
    <div class="editor-top-bar-left">
      <div class="editor-logo">
        <span class="material-icons editor-logo-icon">email</span>
        <span class="editor-logo-text">C1X Email Builder</span>
      </div>
    </div>
    
    <div class="editor-top-bar-center">
      <button class="editor-btn" id="btn-save" title="Save" (click)="saveTemplate()">
        <span class="material-icons">save</span>
        <span class="editor-btn-text">Save</span>
      </button>
      <button class="editor-btn" id="btn-undo" title="Undo" (click)="undo()">
        <span class="material-icons">undo</span>
      </button>
      <button class="editor-btn" id="btn-redo" title="Redo" (click)="redo()">
        <span class="material-icons">redo</span>
      </button>
      <div class="editor-divider"></div>
      <button class="editor-btn" id="btn-preview" title="Preview" (click)="preview()">
        <span class="material-icons">visibility</span>
        <span class="editor-btn-text">Preview</span>
      </button>
      <button class="editor-btn" id="btn-export" title="Export HTML" (click)="exportHTML()">
        <span class="material-icons">code</span>
        <span class="editor-btn-text">Export</span>
      </button>
      <button class="editor-btn" id="btn-import" title="Import HTML" (click)="importHTML()">
        <span class="material-icons">upload</span>
        <span class="editor-btn-text">Import</span>
      </button>
      <div class="editor-divider"></div>
      <button class="editor-btn" id="btn-clear" title="Clear Canvas" (click)="clearCanvas()">
        <span class="material-icons">delete_outline</span>
      </button>
    </div>
    
    <div class="editor-top-bar-right">
      <button class="editor-btn" id="btn-toggle-left" title="Toggle Components Panel" (click)="toggleLeftPanel()">
        <span class="material-icons">{{ leftPanelOpen ? 'chevron_left' : 'chevron_right' }}</span>
      </button>
      <button class="editor-btn" id="btn-toggle-right" title="Toggle Properties Panel" (click)="toggleRightPanel()">
        <span class="material-icons">{{ rightPanelOpen ? 'chevron_right' : 'chevron_left' }}</span>
      </button>
      <button class="editor-btn" id="btn-devices" title="Device Manager" (click)="toggleDevices()">
        <span class="material-icons">devices</span>
      </button>
      <button class="editor-btn" id="btn-view-components" title="View Components" (click)="toggleComponentOutlines()">
        <span class="material-icons">visibility</span>
      </button>
      <button class="editor-btn" id="btn-fullscreen" title="Fullscreen" (click)="toggleFullscreen()">
        <span class="material-icons">fullscreen</span>
      </button>
    </div>
  </header>

  <!-- Editor Content Area -->
  <div class="editor-content">
    <!-- Left Components Panel -->
    <aside class="editor-left-panel" [class.collapsed]="!leftPanelOpen">
      <div class="editor-panel-header">
        <span class="material-icons">widgets</span>
        <span>Components</span>
      </div>
      <div class="editor-panel-content">
        <div id="blocks" class="editor-blocks"></div>
      </div>
    </aside>

    <!-- Canvas Area -->
    <main class="editor-canvas-wrapper">
      <div class="editor-canvas-toolbar">
        <div class="editor-device-buttons" id="device-manager"></div>
      </div>
      <div class="editor-canvas" id="gjs">
        <!-- Default email template content -->
        <table class="main-body">
          <tr class="row">
            <td class="main-body-cell">
              <table class="container">
                <tr>
                  <td class="container-cell">
                    <table class="table100 c1790">
                      <tr>
                        <td class="top-cell" id="c1793">
                          <u class="browser-link" id="c307">View in browser</u>
                        </td>
                      </tr>
                    </table>
                    <table class="c1766">
                      <tr>
                        <td class="cell c1769">
                          <img class="c926" src="https://grapesjs.com/img/grapesjs-logo.png" alt="GrapesJS."/>
                        </td>
                        <td class="cell c1776">
                          <div class="c1144">C1X Email Builder<br/></div>
                        </td>
                      </tr>
                    </table>
                    <table class="card">
                      <tr>
                        <td class="card-cell">
                          <img class="c1271" src="https://grapesjs.com/img/tmp-header-txt.jpg" alt="Big image here"/>
                          <table class="table100 c1357">
                            <tr>
                              <td class="card-content">
                                <h1 class="card-title">Build your newsletters faster than ever<br/></h1>
                                <p class="card-text">Import, build, test and export responsive newsletter templates faster than ever using C1X Email Builder.</p>
                                <table class="c1542">
                                  <tr>
                                    <td class="card-footer" id="c1545">
                                      <a class="button" href="https://github.com/grapesjs/grapesjs">Free and Open Source</a>
                                    </td>
                                  </tr>
                                </table>
                              </td>
                            </tr>
                          </table>
                        </td>
                      </tr>
                    </table>
                    <table class="footer">
                      <tr>
                        <td class="footer-cell">
                          <div class="c2577">
                            <p class="footer-info">C1X Email Builder is a professional email template builder with an intuitive drag-and-drop interface.</p>
                            <br/>
                          </div>
                          <div class="c2421">
                            POWERED BY C1X TECHNOLOGY
                            <p></p>
                          </div>
                        </td>
                      </tr>
                    </table>
                  </td>
                </tr>
              </table>
            </td>
          </tr>
        </table>
      </div>
    </main>

    <!-- Right Properties Panel -->
    <aside class="editor-right-panel" [class.collapsed]="!rightPanelOpen">
      <div class="editor-panel-tabs">
        <button 
          class="editor-tab-button" 
          [class.active]="activeTab === 'style'" 
          (click)="setActiveTab('style')">
          <span class="material-icons">palette</span>
          <span>Style</span>
        </button>
        <button 
          class="editor-tab-button" 
          [class.active]="activeTab === 'traits'" 
          (click)="setActiveTab('traits')">
          <span class="material-icons">settings</span>
          <span>Traits</span>
        </button>
        <button 
          class="editor-tab-button" 
          [class.active]="activeTab === 'layers'" 
          (click)="setActiveTab('layers')">
          <span class="material-icons">layers</span>
          <span>Layers</span>
        </button>
      </div>
      
      <div class="editor-panel-content">
        <div id="styles-container" class="editor-style-manager" [class.active]="activeTab === 'style'"></div>
        <div id="traits-container" class="editor-traits-manager" [class.active]="activeTab === 'traits'"></div>
        <div id="layers-container" class="editor-layers-manager" [class.active]="activeTab === 'layers'"></div>
      </div>
    </aside>
  </div>
</div>

<!-- Info Panel (Hidden by default) -->
<div id="info-panel" style="display:none">
  <br/>
  <svg class="info-panel-logo" xmlns="//www.w3.org/2000/svg" version="1">
    <g id="gjs-logo">
      <path d="M40 5l-12.9 7.4 -12.9 7.4c-1.4 0.8-2.7 2.3-3.7 3.9 -0.9 1.6-1.5 3.5-1.5 5.1v14.9 14.9c0 1.7 0.6 3.5 1.5 5.1 0.9 1.6 2.2 3.1 3.7 3.9l12.9 7.4 12.9 7.4c1.4 0.8 3.3 1.2 5.2 1.2 1.9 0 3.8-0.4 5.2-1.2l12.9-7.4 12.9-7.4c1.4-0.8 2.7-2.2 3.7-3.9 0.9-1.6 1.5-3.5 1.5-5.1v-14.9 -12.7c0-4.6-3.8-6-6.8-4.2l-28 16.2" style="fill:none;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:10;stroke:#fff"/>
    </g>
  </svg>
  <br/>
  <div class="info-panel-label">
    <b>C1X Email Builder</b> is a professional no-code email builder powered by GrapesJS technology.
    Build beautiful, responsive newsletter templates with ease using our intuitive drag-and-drop interface.
    <br/><br/>
    <b>Features:</b>
    <ul style="text-align: left; display: inline-block;">
      <li>Drag & drop blocks from the left sidebar</li>
      <li>Style manager on the right sidebar</li>
      <li>Responsive design tools</li>
      <li>Import/Export HTML</li>
      <li>Rich text editing with CKEditor 4.25.1-lts</li>
    </ul>
  </div>
</div>
